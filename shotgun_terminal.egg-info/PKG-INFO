Metadata-Version: 2.4
Name: shotgun-terminal
Version: 0.1.0
Summary: Terminal version of Shotgun - Generate comprehensive project context for LLM workflows
Author: Shotgun Code Team
License: MIT
Project-URL: Homepage, https://github.com/shotgun-code/shotgun-terminal
Project-URL: Repository, https://github.com/shotgun-code/shotgun-terminal
Project-URL: Issues, https://github.com/shotgun-code/shotgun-terminal/issues
Classifier: Development Status :: 3 - Alpha
Classifier: Intended Audience :: Developers
Classifier: License :: OSI Approved :: MIT License
Classifier: Operating System :: OS Independent
Classifier: Programming Language :: Python :: 3
Classifier: Programming Language :: Python :: 3.8
Classifier: Programming Language :: Python :: 3.9
Classifier: Programming Language :: Python :: 3.10
Classifier: Programming Language :: Python :: 3.11
Requires-Python: >=3.8
Description-Content-Type: text/markdown
Requires-Dist: click>=8.0.0
Requires-Dist: rich>=10.0.0
Requires-Dist: inquirer>=2.8.0
Requires-Dist: openai>=1.0.0
Requires-Dist: requests>=2.25.0
Requires-Dist: google-genai>=1.0.0
Dynamic: requires-python

# ğŸ”« Shotgun Terminal

Terminal version of Shotgun - Generate comprehensive project context for LLM workflows with automatic translation support and Google Gemini AI integration.

## ğŸ“‹ Table of Contents

- [Features](#features)
- [Installation](#installation)
- [Quick Start](#quick-start)
- [Usage](#usage)
- [Prompt Types](#prompt-types)
- [Configuration](#configuration)
- [Translation](#translation)
- [Gemini Integration](#gemini-integration)
- [Advanced Usage](#advanced-usage)
- [Examples](#examples)
- [Development](#development)
- [Requirements](#requirements)

## âœ¨ Features

- **ğŸ¯ Interactive Workflow**: Step-by-step guidance through context generation
- **ğŸ“ Smart File Selection**: Interactive file tree with customizable ignore patterns
- **ğŸŒ Automatic Translation**: Translate tasks and rules from Portuguese to English
- **ğŸ“ Multiline Input**: Easy "END" termination for tasks and custom rules
- **ğŸ¨ Rich Terminal Interface**: Beautiful, colorful terminal experience
- **âš¡ Multiple Prompt Types**: Specialized templates for different use cases
- **ğŸ“Š Project Tree Generation**: Visual project structure in output
- **ğŸ”§ Session-based Rules**: Custom rules without persistent storage
- **ğŸ’¾ Smart Settings**: XDG-compliant configuration storage
- **ğŸ¤– Gemini AI Integration**: Automated prompt processing with Google Gemini API
- **ğŸš€ Minimal Dependencies**: Clean Python implementation with optional AI features

## ğŸ“¦ Installation

### Using pipx (Recommended)
```bash
pipx install shotgun-terminal
```

### Using pip
```bash
pip install shotgun-terminal
```

### Development Installation
```bash
git clone <repository>
cd shotgun-terminal
pip install -e .
```

## ğŸš€ Quick Start

1. **Basic Usage**
   ```bash
   shotgun-terminal
   ```

2. **Quick Setup with Translation**
   ```bash
   shotgun-terminal --quick-setup
   ```

3. **Configure API for Translation**
   ```bash
   shotgun-terminal --config
   ```

## ğŸ“– Usage

### Basic Workflow

The application guides you through an 8-step process:

1. **ğŸ“‚ Directory Selection**
   - Choose your project directory
   - Option to use current or last used directory

2. **ğŸ“ Task Description**
   - Describe what you want to achieve
   - Multiline input with "END" to finish
   ```
   > Implement user authentication system
   > with JWT tokens and password hashing
   > END
   ```

3. **âš™ï¸ Custom Rules** (Optional)
   - Add specific guidelines for the AI
   - Session-based (not stored permanently)
   ```
   > Use TypeScript for all components
   > Follow SOLID principles
   > END
   ```

4. **ğŸŒ Translation** (If configured)
   - Automatic translation to English
   - Smart detection of already-English text

5. **ğŸ“ File Selection**
   - Interactive file tree navigation
   - Customizable ignore patterns
   - Manual file review option

6. **ğŸ¯ Prompt Type Selection**
   - Choose from Dev, Architect, or Bug modes

7. **ğŸ“„ Context Generation**
   - Generate structured output file
   - Includes project tree and file contents

8. **ğŸ¤– Gemini Processing** (If enabled)
   - Automatically send prompt to Google Gemini API
   - Receive AI-processed response
   - Save to timestamped output file

### Command Line Options

```bash
shotgun-terminal [OPTIONS]

Options:
  -d, --directory PATH     Project directory to analyze
  -o, --output PATH       Output file path 
  -p, --prompt-type TYPE  Prompt type (dev/architect/bug)
  --config               Configure API settings (translation, Gemini, etc.)
  --quick-setup          Quick setup with test credentials
  --help                 Show help message
```

## ğŸ¯ Prompt Types

### 1. Dev Mode (Default)
**Output**: Git diff format
- Generate precise code changes
- Follow existing patterns
- Implement features and fixes
- **Best for**: Feature implementation, bug fixes, code modifications

### 2. Architect Mode  
**Output**: Markdown planning document
- High-level system design
- Refactoring strategies
- Architecture analysis
- **Best for**: System design, refactoring plans, architecture reviews

### 3. Bug Mode
**Output**: Markdown analysis report
- Root cause analysis
- Debugging strategies
- Code execution tracing
- **Best for**: Bug investigation, debugging, error analysis

## âš™ï¸ Configuration

### API Configuration for Translation

```bash
shotgun-terminal --config
```

**Interactive Menu Options:**
- Configure API credentials
- Test API connection  
- Toggle translation on/off
- View current settings
- Reset to defaults

**Settings Storage**: `~/.config/shotgun-code/settings.json`

### Gemini API Configuration

```bash
shotgun-terminal --config
```

**Interactive Menu Options:**
- Configure Gemini API credentials
- Test Gemini API connection
- Configure parameters (temperature, thinking budget)
- Toggle Gemini on/off
- View current Gemini settings
- Reset Gemini to defaults

### Quick Setup

```bash
shotgun-terminal --quick-setup
```
Sets up with provided test credentials for immediate use.

## ğŸŒ Translation

Shotgun Terminal includes automatic translation from Portuguese to English:

### Features
- **Smart Detection**: Automatically detects if text is already in English
- **API Integration**: Uses OpenAI-compatible APIs
- **Session-based**: Translates tasks and rules for each session
- **Fallback**: Uses original text if translation fails

### Supported APIs
- OpenAI-compatible endpoints
- Custom base URLs
- Configurable models

### Configuration
```json
{
  "apiSettings": {
    "api_key": "your-api-key",
    "base_url": "https://api.example.com",
    "model": "gpt-4.1",
    "enable_translation": true
  }
}
```

## ğŸ¤– Gemini Integration

Shotgun Terminal includes optional integration with Google Gemini AI for automated prompt processing:

### Features
- **ğŸš€ Automated Processing**: Send generated prompts directly to Gemini API
- **âš™ï¸ Configurable Parameters**: Fine-tune temperature and thinking budget
- **ğŸ“Š Real-time Streaming**: Live progress feedback during API calls
- **ğŸ”„ Fallback Support**: Graceful degradation when API is unavailable
- **ğŸ“ Smart Output**: Timestamped response files with clear naming

### Configuration Parameters
- **Temperature**: 0.0 - 2.0 (controls response randomness)
- **Thinking Budget**: 0 - 32768 (reasoning computation budget)
- **API Key**: Your Google Gemini API key

### Workflow Integration
When Gemini is enabled, the workflow becomes:
1. Generate project context (standard process)
2. **Automatically send to Gemini API**
3. **Stream response with progress indicator**
4. **Save both original context and AI response**

### Output Files
- **Gemini Disabled**: `shotgun_context_{prompt_type}.txt` (standard behavior)
- **Gemini Enabled**: 
  - `shotgun_context_{prompt_type}.txt` (original context)
  - `shotgun_response_{timestamp}.txt` (Gemini AI response)

### Configuration Example
```json
{
  "geminiSettings": {
    "api_key": "your-gemini-api-key",
    "enable_gemini": true,
    "temperature": 0.35,
    "thinking_budget": 32768
  }
}
```

### Installation Requirements
```bash
# Install optional Gemini dependency
pip install google-genai
```

## ğŸ”§ Advanced Usage

### File Selection

**Ignore Patterns**: Customize which files to exclude
```
*.pyc
__pycache__
.git
node_modules
*.log
```

**Manual Review**: Fine-tune file selection
- Remove files by pattern
- Add back excluded files
- Interactive file tree navigation

### Output Formats

**Git Diff (Dev Mode)**:
```diff
diff --git a/file.py b/file.py
index abc123..def456 100644
--- a/file.py
+++ b/file.py
@@ -1,3 +1,4 @@
 def function():
+    # New functionality
     pass
```

**Markdown Plan (Architect Mode)**:
```markdown
# Refactoring Plan: Authentication System

## 1. Executive Summary & Goals
- Implement secure authentication
- Add JWT token support

## 2. Proposed Solution
...
```

### Project Tree Generation

Automatic visual project structure:
```
project-name\
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â””â”€â”€ auth.py
â”‚   â””â”€â”€ utils/
â”‚       â””â”€â”€ helpers.py
â””â”€â”€ tests/
    â””â”€â”€ test_auth.py
```

## ğŸ“š Examples

### Example 1: Feature Implementation
```bash
shotgun-terminal -p dev -d ./my-project
```
1. Task: "Add user registration endpoint"
2. Rules: "Use FastAPI, include validation"
3. Output: Git diff with implementation

### Example 2: Architecture Review
```bash
shotgun-terminal -p architect
```
1. Task: "Redesign authentication system"
2. Output: Detailed refactoring plan

### Example 3: Bug Analysis
```bash
shotgun-terminal -p bug -o bug-report.txt
```
1. Task: "Login endpoint returns 500 error"
2. Output: Debugging analysis report

### Example 4: Automated AI Processing
```bash
shotgun-terminal -p dev
```
1. Task: "Add user authentication system"
2. Rules: "Use JWT tokens and bcrypt hashing"
3. **Gemini enabled**: Automatically processes prompt
4. Output: 
   - `shotgun_context_dev.txt` (original context)
   - `shotgun_response_20241224_143052.txt` (AI response)

## ğŸ› ï¸ Development

### Setup Development Environment
```bash
git clone <repository>
cd shotgun-terminal
pip install -e .
```

### Development Commands
```bash
# Reinstall after changes
./reinstall.bat  # Windows
# or
pipx uninstall shotgun-terminal && pipx install -e .

# Run with development changes
shotgun-terminal
```

### Project Structure
```
shotgun-terminal/
â”œâ”€â”€ shotgun_terminal/
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ cli.py              # Main CLI interface
â”‚   â”œâ”€â”€ config.py           # API configuration
â”‚   â”œâ”€â”€ context_generator.py # Context generation
â”‚   â”œâ”€â”€ file_selector.py    # File selection logic
â”‚   â”œâ”€â”€ gemini_service.py   # Gemini AI integration
â”‚   â”œâ”€â”€ prompts.py          # Prompt templates
â”‚   â”œâ”€â”€ settings.py         # Settings management
â”‚   â”œâ”€â”€ translator.py       # Translation service
â”‚   â”œâ”€â”€ tree_generator.py   # Project tree generation
â”‚   â””â”€â”€ user_input.py       # User input collection
â”œâ”€â”€ setup.py
â”œâ”€â”€ pyproject.toml
â”œâ”€â”€ requirements.txt
â””â”€â”€ README.md
```

## ğŸ“‹ Requirements

- **Python**: 3.8 or higher
- **Terminal**: Interactive terminal with color support
- **Dependencies**:
  - `click` >= 8.0.0
  - `rich` >= 10.0.0
  - `inquirer` >= 2.8.0
  - `openai` >= 1.0.0 (for translation)
  - `requests` >= 2.25.0
  - `google-genai` >= 1.0.0 (optional, for Gemini integration)

## ğŸ¤ Contributing

1. Fork the repository
2. Create a feature branch
3. Make your changes
4. Test thoroughly
5. Submit a pull request

## ğŸ“„ License

MIT License - see LICENSE file for details.

## ğŸ†˜ Support

- **Issues**: Report bugs and request features
- **Documentation**: Check this README for detailed usage
- **API Configuration**: Use `--config` to set up translation and Gemini.

---

**Made with â¤ï¸ for developers who love clean, structured LLM prompts**
